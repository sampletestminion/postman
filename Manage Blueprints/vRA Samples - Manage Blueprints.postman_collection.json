{
	"id": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
	"name": "vRA Samples - Manage Blueprints",
	"description": "Manage Blueprints description",
	"order": [
		"c2d65d52-26b6-019a-e10a-a4b8b9cd76d3",
		"b0b1ee74-872a-a520-f5fb-324647d1b377",
		"d796d15b-c85a-9cbd-94dc-4df376e927aa",
		"3dd4a4c5-6f00-5f8a-ad15-94652d5ae018",
		"9b14901d-8c3d-34ba-cede-799199da57ed",
		"a80e98e4-ff1c-9b2b-724c-1dc01e9999ee"
	],
	"folders": [],
	"timestamp": 1491683480592,
	"owner": "233286",
	"public": false,
	"requests": [
		{
			"id": "3dd4a4c5-6f00-5f8a-ad15-94652d5ae018",
			"headers": "Content-Type: application/json\nAuthorization: Bearer {{token}}\nAccept: application/json\n",
			"url": "https://{{va-fqdn}}/catalog-service/api/services?$filter=startswith(name, '{{service-name}}')",
			"preRequestScript": "\n",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1490800827070,
			"name": "Get Service",
			"description": "Get service created by Postman collection.",
			"collectionId": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "88f4439e-774f-cd1c-f47f-e1e78678806d"
		},
		{
			"id": "9b14901d-8c3d-34ba-cede-799199da57ed",
			"headers": "Content-Type: application/json\nAuthorization: Bearer {{token}}\nAccept: application/json\n",
			"url": "https://{{va-fqdn}}/catalog-service/api/catalogItems?$filter=name eq '{{blueprintName}}'",
			"preRequestScript": "\n",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1490800831708,
			"name": "Get catalog item for CBP",
			"description": "Get catalog item for the CBP.",
			"collectionId": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "b8e07905-2b80-7139-2e5e-567d570a6475"
		},
		{
			"id": "a80e98e4-ff1c-9b2b-724c-1dc01e9999ee",
			"headers": "Content-Type: application/json\nAuthorization: Bearer {{token}}\nAccept: application/json\n",
			"url": "https://{{va-fqdn}}/catalog-service/api/catalogItems/{{catalogItemId}}",
			"preRequestScript": "\n",
			"pathVariables": {},
			"method": "PUT",
			"data": [],
			"dataMode": "raw",
			"tests": "\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1490800849575,
			"name": "Associate catalog item to a catalog service",
			"description": "Associated catalog service to the CBP's catalog item.",
			"collectionId": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "565b632c-dcc7-7bd0-3715-db3a7619431f",
			"rawModeData": "{\r\n  \"callbacks\": null,\r\n  \"catalogItemTypeRef\": {\r\n    \"id\": \"com.vmware.csp.component.cafe.composition.blueprint\",\r\n    \"label\": \"Composite Blueprint\"\r\n  },\r\n  \"description\": \"\",\r\n  \"forms\": {\r\n    \"itemDetails\": {\r\n      \"type\": \"external\",\r\n      \"formId\": \"composition.catalog.item.details\"\r\n    },\r\n    \"catalogRequestInfoHidden\": true,\r\n    \"requestFormScale\": \"BIG\",\r\n    \"requestSubmission\": {\r\n      \"type\": \"extension\",\r\n      \"extensionId\": \"com.vmware.vcac.core.design.blueprints.requestForm\",\r\n      \"extensionPointId\": null\r\n    },\r\n    \"requestDetails\": {\r\n      \"type\": \"extension\",\r\n      \"extensionId\": \"com.vmware.vcac.core.design.blueprints.requestDetailsForm\",\r\n      \"extensionPointId\": null\r\n    }\r\n  },\r\n  \"iconId\": \"composition.blueprint.png\",\r\n  \"id\": \"{{catalogItemId}}\",\r\n  \"isNoteworthy\": false,\r\n  \"lastUpdatedDate\": null,\r\n  \"name\": \"{{blueprintName}}\",\r\n  \"organization\": {\r\n    \"tenantRef\": \"{{tenant}}\",\r\n    \"tenantLabel\": \"{{tenant}}\",\r\n    \"subtenantRef\": null,\r\n    \"subtenantLabel\": null\r\n  },\r\n  \"outputResourceTypeRef\": {\r\n    \"id\": \"composition.resource.type.deployment\",\r\n    \"label\": \"Deployment\"\r\n  },\r\n  \"providerBinding\": {\r\n    \"bindingId\": \"{{tenant}}!::!{{blueprintName}}\",\r\n    \"providerRef\": {\r\n      \"id\": \"{{blueprintProviderId}}\",\r\n      \"label\": \"Blueprint Service\"\r\n    }\r\n  },\r\n  \"serviceRef\": {\r\n    \"id\": \"{{serviceId}}\",\r\n    \"label\": \"{{serviceName}}\"\r\n  },\r\n  \"status\": \"PUBLISHED\",\r\n  \"statusName\": \"Published\",\r\n  \"quota\": null,\r\n  \"version\": 10,\r\n  \"requestable\": true\r\n}"
		},
		{
			"id": "b0b1ee74-872a-a520-f5fb-324647d1b377",
			"headers": "Content-Type: application/json\nAuthorization: Bearer {{token}}\n",
			"url": "https://{{va-fqdn}}/composition-service/api/blueprints",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"tests": "tests[\"Status code is 200. Can reach to Composition service.\"] = responseCode.code === 200;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1490800780919,
			"name": "Get existing blueprints",
			"description": "Gets blueprints. It is a sanity check so to make sure that composition service is accessible.",
			"collectionId": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "90cd7e3c-0702-d4b3-b6c5-edd1009e6287"
		},
		{
			"id": "c2d65d52-26b6-019a-e10a-a4b8b9cd76d3",
			"headers": "Accept: application/json\nContent-Type: application/json\n",
			"url": "https://{{va-fqdn}}/identity/api/tokens",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\ntests[\"Response contains auth token\"] = responseBody.has(\"id\");\npostman.clearEnvironmentVariable(\"token\");\nvar data = JSON.parse(responseBody);\ntests[\"Auth token is not null\"] = data.id !== \"\";\npostman.setEnvironmentVariable(\"token\", data.id);",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1483453143879,
			"name": "Login with infra architect",
			"description": " Returns a token associated with the provided credentials. e.g. (username@domain)",
			"collectionId": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "080d7d08-694e-8b92-c707-77de0cbec61c",
			"rawModeData": "{\"username\":\"{{username}}\",\"password\":\"{{password}}\",\"tenant\":\"{{tenant}}\"}"
		},
		{
			"id": "d796d15b-c85a-9cbd-94dc-4df376e927aa",
			"headers": "Content-Type: application/json\nAuthorization: Bearer {{token}}\n",
			"url": "https://{{va-fqdn}}/composition-service/api/blueprints",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1490801076694,
			"name": "Create a basic vSphere blueprint",
			"description": "Creates a new vSphere clone CBP with a given template name. Also publishes the CBP.",
			"collectionId": "07f8702e-538e-00ba-bb4f-b04b7d2b4f30",
			"responses": [],
			"isFromCollection": true,
			"collectionRequestId": "a32c2707-8051-9d7e-ed8a-45c6f06e3394",
			"rawModeData": "{\r\n  \"tenantId\": \"{{tenant}}\",\r\n  \"name\": \"{{blueprintName}}\",\r\n  \"version\": 1,\r\n  \"description\": \"\",\r\n  \"publishStatus\": \"PUBLISHED\",\r\n  \"publishStatusName\": \"PUBLISHED\",\r\n  \"components\": {\r\n    \"vSphere_Machine_1\": {\r\n      \"data\": {\r\n        \"_cluster\": {\r\n          \"facets\": {\r\n            \"minValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1\r\n              }\r\n            },\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"action\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"value\": \"FullClone\"\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"blueprint_type\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"value\": \"1\"\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"cpu\": {\r\n          \"facets\": {\r\n            \"minValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1\r\n              }\r\n            },\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"memory\": {\r\n          \"facets\": {\r\n            \"minValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1024\r\n              }\r\n            },\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1024\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"machine_prefix\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"entityRef\",\r\n                \"componentId\": null,\r\n                \"classId\": \"Infrastructure.Compute.MachinePrefix\",\r\n                \"id\": \"Use group default\"\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"provisioning_workflow\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"entityRef\",\r\n                \"componentId\": null,\r\n                \"classId\": \"Infrastructure.Compute.ProvisioningWorkflow\",\r\n                \"id\": \"CloneWorkflow\",\r\n                \"label\": \"CloneWorkflow\"\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"storage\": {\r\n          \"facets\": {\r\n            \"minValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1\r\n              }\r\n            },\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"integer\",\r\n                \"value\": 1\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"source_machine\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"entityRef\",\r\n                \"componentId\": null,\r\n                \"classId\": \"Infrastructure.Virtual.Schema\",\r\n                \"id\": \"{{cloneTemplateId}}\",\r\n                \"label\": \"{{cloneTemplateName}}\"\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"display_location\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"boolean\",\r\n                \"value\": false\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"source_machine_name\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"string\",\r\n                \"value\": \"{{cloneTemplateName}}\"\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"disks\": {\r\n          \"facets\": {\r\n            \"defaultValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"multiple\",\r\n                \"elementTypeId\": \"COMPLEX\",\r\n                \"items\": [\r\n                  {\r\n                    \"type\": \"complex\",\r\n                    \"componentTypeId\": \"com.vmware.csp.iaas.blueprint.service\",\r\n                    \"componentId\": null,\r\n                    \"classId\": \"Infrastructure.Compute.Machine.MachineDisk\",\r\n                    \"typeFilter\": null,\r\n                    \"values\": {\r\n                      \"entries\": [\r\n                        {\r\n                          \"key\": \"id\",\r\n                          \"value\": {\r\n                            \"type\": \"integer\",\r\n                            \"value\": 1447791011544\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"userCreated\",\r\n                          \"value\": {\r\n                            \"type\": \"boolean\",\r\n                            \"value\": false\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"volumeId\",\r\n                          \"value\": {\r\n                            \"type\": \"integer\",\r\n                            \"value\": 0\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"is_clone\",\r\n                          \"value\": {\r\n                            \"type\": \"boolean\",\r\n                            \"value\": true\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"initial_location\",\r\n                          \"value\": {\r\n                            \"type\": \"string\",\r\n                            \"value\": \"\"\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"custom_properties\"\r\n                        },\r\n                        {\r\n                          \"key\": \"capacity\",\r\n                          \"value\": {\r\n                            \"type\": \"integer\",\r\n                            \"value\": 1\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"label\",\r\n                          \"value\": {\r\n                            \"type\": \"string\",\r\n                            \"value\": \"Hard disk 1\"\r\n                          }\r\n                        },\r\n                        {\r\n                          \"key\": \"storage_reservation_policy\",\r\n                          \"value\": {\r\n                            \"type\": \"string\",\r\n                            \"value\": \"\"\r\n                          }\r\n                        }\r\n                      ]\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"allow_storage_policies\": {\r\n          \"facets\": {\r\n            \"fixedValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"boolean\",\r\n                \"value\": false\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"max_volumes\": {\r\n          \"facets\": {},\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"max_network_adapters\": {\r\n          \"facets\": {},\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"security_groups\": {\r\n          \"facets\": {\r\n            \"defaultValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"multiple\",\r\n                \"elementTypeId\": \"ENTITY_REFERENCE\",\r\n                \"items\": []\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        },\r\n        \"security_tags\": {\r\n          \"facets\": {\r\n            \"defaultValue\": {\r\n              \"type\": \"constant\",\r\n              \"value\": {\r\n                \"type\": \"multiple\",\r\n                \"elementTypeId\": \"ENTITY_REFERENCE\",\r\n                \"items\": []\r\n              }\r\n            }\r\n          },\r\n          \"permittedValues\": null,\r\n          \"data\": {}\r\n        }\r\n      },\r\n      \"type\": \"Infrastructure.CatalogItem.Machine.Virtual.vSphere\",\r\n      \"dependson\": []\r\n    }\r\n  },\r\n  \"properties\": {},\r\n  \"propertyGroups\": [],\r\n  \"externalId\": \"{{tenant}}!::!{{blueprintName}}\",\r\n  \"catalogItemTypeId\": null,\r\n  \"layout\": {\r\n    \"vSphere_Machine_1\": \"0,0\"\r\n  },\r\n  \"id\": \"{{blueprintName}}\"\r\n}"
		}
	]
}
